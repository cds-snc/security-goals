# Compliance Watcher

### Purpose

The purpose of this component is to receive a trigger event to re-run all the compliance checks on demand. The webhook is the most sane way for you to check compliance at point in time you specify.

### Workflow

The component exposes a webhook that can be defined through the `WEBHOOK_URL` environmental variable. Once the webhook is triggered, the component queries all the jobs that have been run inside the `symmorfosi` namespace. (Note: You can also use a custom namespace using the `JOBS_NAMESPACE` environmental variable) It will delete all references to the jobs and re-run them again, effectively triggering a compliance check. 

The component also adds a `RELEASE` variable to the job configuration. The `RELEASE` it autogenerated and uses the current JavaScript timestamp as a base. If you provide a `GITHUB_REPO` environmental variable to this component, it will use the current `master` SHA as part of the `RELEASE`. ex: `SHA-{JavaScript timestamp}`.
